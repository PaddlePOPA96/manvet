import{c as o,u as h,r as d,j as e,U as p}from"./index-ChC7JKR1.js";import{I as l}from"./Input-DmDhfL36.js";import{S as w}from"./save-XMXrZOdM.js";/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=o("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=o("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=o("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);function N(){var x;const{currentUser:t,userRole:u}=h(),[s,r]=d.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[n,c]=d.useState(!1),[i,m]=d.useState({type:"",text:""}),g=async a=>{if(a.preventDefault(),s.newPassword!==s.confirmPassword){m({type:"error",text:"Password baru tidak cocok"});return}c(!0),setTimeout(()=>{c(!1),m({type:"success",text:"Password berhasil diperbarui"}),r({currentPassword:"",newPassword:"",confirmPassword:""})},1e3)};return e.jsx("div",{className:"max-w-4xl mx-auto space-y-6 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-lg shadow border p-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-6 flex items-center gap-2",children:[e.jsx(p,{size:20,className:"text-teal-600"})," Profil Saya"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Informasi Akun"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-full flex items-center justify-center text-teal-700 text-2xl font-bold",children:((x=t==null?void 0:t.email)==null?void 0:x.charAt(0).toUpperCase())||"U"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-500 mb-1 flex items-center gap-1",children:[e.jsx(j,{size:12})," Role"]}),e.jsx("div",{className:"font-semibold text-gray-800 uppercase text-sm mb-2",children:u}),e.jsxs("div",{className:"text-sm text-gray-500 mb-1 flex items-center gap-1",children:[e.jsx(b,{size:12})," Email"]}),e.jsx("div",{className:"font-medium text-gray-800",children:(t==null?void 0:t.email)||"user@example.com"})]})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-4",children:"* Hubungi Superadmin jika ingin mengubah email atau role akses Anda."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2 flex items-center gap-2",children:[e.jsx(f,{size:16})," Ganti Password"]}),i.text&&e.jsx("div",{className:`p-3 rounded text-sm ${i.type==="error"?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:i.text}),e.jsxs("form",{onSubmit:g,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Password Lama"}),e.jsx(l,{type:"password",value:s.currentPassword,onChange:a=>r({...s,currentPassword:a.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Password Baru"}),e.jsx(l,{type:"password",value:s.newPassword,onChange:a=>r({...s,newPassword:a.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Konfirmasi Password Baru"}),e.jsx(l,{type:"password",value:s.confirmPassword,onChange:a=>r({...s,confirmPassword:a.target.value}),required:!0})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-teal-600 text-white py-2 rounded-lg font-bold text-sm hover:bg-teal-700 flex items-center justify-center gap-2 disabled:opacity-70",children:n?"Memproses...":e.jsxs(e.Fragment,{children:[e.jsx(w,{size:16})," Simpan Password Baru"]})})})]})]})]})]})})}export{N as default};
